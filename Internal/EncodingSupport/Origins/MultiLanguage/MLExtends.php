<?php namespace ZN\EncodingSupport\MultiLanguage;

use CLController;
use ZN\FileSystem\Folder;
use ZN\IndividualStructures\Lang;

class MLExtends extends CLController
{
    //--------------------------------------------------------------------------------------------------------
    //
    // Author     : Ozan UYKUN <ozanbote@gmail.com>
    // Site       : www.znframework.com
    // License    : The MIT License
    // Copyright  : (c) 2012-2016, znframework.com
    //
    //--------------------------------------------------------------------------------------------------------

    const config = 'EncodingSupport:ml';

    //--------------------------------------------------------------------------------------------------------
    // $appdir
    //--------------------------------------------------------------------------------------------------------
    //
    // @var string: NULL
    //
    //--------------------------------------------------------------------------------------------------------
    protected $appdir;

    //--------------------------------------------------------------------------------------------------------
    // $externalAppdir
    //--------------------------------------------------------------------------------------------------------
    //
    // @var string: NULL
    //
    //--------------------------------------------------------------------------------------------------------
    protected $externalAppdir;

    //--------------------------------------------------------------------------------------------------------
    // $extension
    //--------------------------------------------------------------------------------------------------------
    //
    // @var string: .ml
    //
    //--------------------------------------------------------------------------------------------------------
    protected $extension = '.ml';

    //--------------------------------------------------------------------------------------------------------
    // $lang
    //--------------------------------------------------------------------------------------------------------
    //
    // @var string:
    //
    //--------------------------------------------------------------------------------------------------------
    protected $lang;

    //--------------------------------------------------------------------------------------------------------
    // $externalLang
    //--------------------------------------------------------------------------------------------------------
    //
    // @var string:
    //
    //--------------------------------------------------------------------------------------------------------
    protected $externalLang;

    //--------------------------------------------------------------------------------------------------------
    // Constructor
    //--------------------------------------------------------------------------------------------------------
    //
    // __construct()
    //
    //--------------------------------------------------------------------------------------------------------
    public function __construct()
    {
        parent::__construct();

        $mlDir = 'ML' . DS;

        $this->appdir = LANGUAGES_DIR . $mlDir;
        $this->externalAppdir = EXTERNAL_LANGUAGES_DIR . $mlDir;

        if( ! is_dir($this->appdir) )
        {
            mkdir($this->appdir, 0755);
        }

        $getLang = Lang::get();

        $this->lang = $this->appdir.$getLang.$this->extension;
        $this->externalLang = $this->externalAppdir.$getLang.$this->extension;
    }

    //--------------------------------------------------------------------------------------------------------
    // Protected Lang File
    //--------------------------------------------------------------------------------------------------------
    //
    // @param array  $rows
    //
    //--------------------------------------------------------------------------------------------------------
    protected function _langFile($app)
    {
        return $this->appdir.$app.$this->extension;
    }
}
